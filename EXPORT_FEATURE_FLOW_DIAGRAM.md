# ğŸ“Š Advanced Report Export - Feature Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TVK ADMIN DASHBOARD                                  â”‚
â”‚                      (admin-dashboard.html)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ“Š à®…à®±à®¿à®•à¯à®•à¯ˆ à®®à®±à¯à®±à¯à®®à¯ à®¤à®°à®µà¯ à®à®±à¯à®±à¯à®®à®¤à®¿                         â”‚
â”‚                   (Reports & Data Export Section)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                               â”‚
                    â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ğŸ‘¥ à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯à®•à®³à¯        â”‚   â”‚   âš ï¸ à®ªà¯à®•à®¾à®°à¯à®•à®³à¯           â”‚
    â”‚   (MEMBERS TAB)            â”‚   â”‚   (COMPLAINTS TAB)       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                               â”‚
                    â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   FILTER PANEL             â”‚   â”‚   FILTER PANEL           â”‚
    â”‚   â”œâ”€ District              â”‚   â”‚   â”œâ”€ Complaint Type      â”‚
    â”‚   â”œâ”€ Gender                â”‚   â”‚   â”œâ”€ Priority            â”‚
    â”‚   â”œâ”€ Status                â”‚   â”‚   â”œâ”€ Status              â”‚
    â”‚   â”œâ”€ Category              â”‚   â”‚   â”œâ”€ Assigned To         â”‚
    â”‚   â””â”€ Date Range            â”‚   â”‚   â””â”€ Date Range          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                               â”‚
                    â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  REAL-TIME PROCESSING      â”‚   â”‚  REAL-TIME PROCESSING    â”‚
    â”‚  getFilteredMembers()      â”‚   â”‚  getFilteredComplaints() â”‚
    â”‚         â”‚                  â”‚   â”‚         â”‚                â”‚
    â”‚         â–¼                  â”‚   â”‚         â–¼                â”‚
    â”‚  Supabase Query            â”‚   â”‚  Supabase Query          â”‚
    â”‚         â”‚                  â”‚   â”‚         â”‚                â”‚
    â”‚         â–¼                  â”‚   â”‚         â–¼                â”‚
    â”‚  Filter Results            â”‚   â”‚  Filter Results          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                               â”‚
                    â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PREVIEW PANEL            â”‚   â”‚   PREVIEW PANEL          â”‚
    â”‚   â”œâ”€ Count: X records      â”‚   â”‚   â”œâ”€ Count: X records    â”‚
    â”‚   â””â”€ Table: First 10       â”‚   â”‚   â””â”€ Table: First 10     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                               â”‚
                    â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   EXPORT OPTIONS           â”‚   â”‚   EXPORT OPTIONS         â”‚
    â”‚   â”œâ”€ ğŸ“„ PDF Button         â”‚   â”‚   â”œâ”€ ğŸ“„ PDF Button       â”‚
    â”‚   â”œâ”€ ğŸ“Š Excel Button       â”‚   â”‚   â”œâ”€ ğŸ“Š Excel Button     â”‚
    â”‚   â””â”€ ğŸ”„ Reset Button       â”‚   â”‚   â””â”€ ğŸ”„ Reset Button     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚             â”‚                   â”‚             â”‚
            â”‚             â”‚                   â”‚             â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”
     â”‚                           â”‚     â”‚                           â”‚
     â–¼                           â–¼     â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PDF   â”‚              â”‚  EXCEL  â”‚ â”‚   PDF   â”‚           â”‚  EXCEL  â”‚
â”‚  EXPORT â”‚              â”‚ EXPORT  â”‚ â”‚  EXPORT â”‚           â”‚ EXPORT  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                           â”‚     â”‚                           â”‚
     â–¼                           â–¼     â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        EXPORT LIBRARIES                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   jsPDF      â”‚  â”‚ jsPDF-Auto   â”‚  â”‚   SheetJS    â”‚             â”‚
â”‚  â”‚              â”‚  â”‚   Table      â”‚  â”‚    (xlsx)    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                               â”‚
                    â–¼                               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  TVK_Members_Report   â”‚       â”‚  TVK_Complaints_      â”‚
        â”‚  _2025-10-12.pdf      â”‚       â”‚  Report_2025-10-12    â”‚
        â”‚                       â”‚       â”‚  .xlsx                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Sequence

### Members Export Flow:

```
1. USER INTERACTION
   â””â”€> Click "Members" Tab
       â””â”€> switchReportTab('members')

2. INITIALIZATION
   â””â”€> loadMemberFilters()
       â”œâ”€> Fetch unique districts from bla_members
       â”œâ”€> Fetch unique categories from bla_members
       â””â”€> Populate dropdown menus

3. FILTER APPLICATION
   â””â”€> User selects filters
       â””â”€> onChange event triggers updateMemberCount()
           â””â”€> getFilteredMembersAdvanced()
               â”œâ”€> Build Supabase query with filters
               â”œâ”€> Execute query: supabase.from('bla_members').select(...)
               â””â”€> Return filtered data array

4. PREVIEW UPDATE
   â””â”€> updateMemberCount()
       â”œâ”€> Display record count
       â”œâ”€> Generate preview table (first 10 records)
       â””â”€> Update UI with status badges

5. EXPORT TRIGGER
   â””â”€> User clicks export button
       â”œâ”€> PDF Export Path:
       â”‚   â””â”€> exportMembersPDF()
       â”‚       â”œâ”€> Get filtered data
       â”‚       â”œâ”€> Initialize jsPDF (landscape A4)
       â”‚       â”œâ”€> Add title and metadata
       â”‚       â”œâ”€> Create table with autoTable plugin
       â”‚       â”œâ”€> Add page numbers
       â”‚       â””â”€> Save file: TVK_Members_Report_[DATE].pdf
       â”‚
       â””â”€> Excel Export Path:
           â””â”€> exportMembersExcel()
               â”œâ”€> Get filtered data
               â”œâ”€> Format data as JSON array
               â”œâ”€> Create workbook with XLSX.utils
               â”œâ”€> Set column widths
               â””â”€> Save file: TVK_Members_Report_[DATE].xlsx
```

### Complaints Export Flow:

```
1. USER INTERACTION
   â””â”€> Click "Complaints" Tab
       â””â”€> switchReportTab('complaints')

2. FILTER APPLICATION
   â””â”€> User selects filters
       â””â”€> onChange event triggers updateComplaintCount()
           â””â”€> getFilteredComplaints()
               â”œâ”€> Build Supabase query with filters
               â”œâ”€> Execute query: supabase.from('complaints').select(...)
               â””â”€> Return filtered data array

3. PREVIEW UPDATE
   â””â”€> updateComplaintCount()
       â”œâ”€> Display record count
       â”œâ”€> Generate preview table (first 10 records)
       â””â”€> Update UI with priority/status badges

4. EXPORT TRIGGER
   â””â”€> User clicks export button
       â”œâ”€> PDF Export Path:
       â”‚   â””â”€> exportComplaintsPDF()
       â”‚       â”œâ”€> Get filtered data
       â”‚       â”œâ”€> Initialize jsPDF (landscape A4)
       â”‚       â”œâ”€> Add title and metadata
       â”‚       â”œâ”€> Create table with autoTable plugin
       â”‚       â”œâ”€> Add page numbers
       â”‚       â””â”€> Save file: TVK_Complaints_Report_[DATE].pdf
       â”‚
       â””â”€> Excel Export Path:
           â””â”€> exportComplaintsExcel()
               â”œâ”€> Get filtered data
               â”œâ”€> Format data as JSON array
               â”œâ”€> Create workbook with XLSX.utils
               â”œâ”€> Set column widths
               â””â”€> Save file: TVK_Complaints_Report_[DATE].xlsx
```

---

## Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     admin-dashboard.html                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    HTML STRUCTURE                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  <div class="report-tabs">                           â”‚  â”‚
â”‚  â”‚    <button class="report-tab">Members</button>       â”‚  â”‚
â”‚  â”‚    <button class="report-tab">Complaints</button>    â”‚  â”‚
â”‚  â”‚  </div>                                              â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  <div id="membersExportSection">                     â”‚  â”‚
â”‚  â”‚    <div class="filter-panel">...</div>               â”‚  â”‚
â”‚  â”‚    <div class="preview-panel">...</div>              â”‚  â”‚
â”‚  â”‚  </div>                                              â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  <div id="complaintsExportSection">                  â”‚  â”‚
â”‚  â”‚    <div class="filter-panel">...</div>               â”‚  â”‚
â”‚  â”‚    <div class="preview-panel">...</div>              â”‚  â”‚
â”‚  â”‚  </div>                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     CSS STYLING                       â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  â€¢ .report-tabs (Tab container)                      â”‚  â”‚
â”‚  â”‚  â€¢ .report-tab (Tab buttons + hover effects)         â”‚  â”‚
â”‚  â”‚  â€¢ .export-section-container (Main container)        â”‚  â”‚
â”‚  â”‚  â€¢ .filter-panel (Filter area)                       â”‚  â”‚
â”‚  â”‚  â€¢ .filter-grid-advanced (Responsive grid)           â”‚  â”‚
â”‚  â”‚  â€¢ .preview-panel (Preview area)                     â”‚  â”‚
â”‚  â”‚  â€¢ .preview-table (Data table styling)               â”‚  â”‚
â”‚  â”‚  â€¢ .status-badge (Status indicators)                 â”‚  â”‚
â”‚  â”‚  â€¢ .export-btn (Export buttons)                      â”‚  â”‚
â”‚  â”‚  â€¢ @media queries (Mobile responsive)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 JAVASCRIPT LOGIC                      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  Tab Management:                                     â”‚  â”‚
â”‚  â”‚    â€¢ switchReportTab(tab)                            â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  Members Functions:                                  â”‚  â”‚
â”‚  â”‚    â€¢ loadMemberFilters()                             â”‚  â”‚
â”‚  â”‚    â€¢ getFilteredMembersAdvanced()                    â”‚  â”‚
â”‚  â”‚    â€¢ updateMemberCount()                             â”‚  â”‚
â”‚  â”‚    â€¢ resetMemberFilters()                            â”‚  â”‚
â”‚  â”‚    â€¢ exportMembersPDF()                              â”‚  â”‚
â”‚  â”‚    â€¢ exportMembersExcel()                            â”‚  â”‚
â”‚  â”‚                                                       â”‚  â”‚
â”‚  â”‚  Complaints Functions:                               â”‚  â”‚
â”‚  â”‚    â€¢ getFilteredComplaints()                         â”‚  â”‚
â”‚  â”‚    â€¢ updateComplaintCount()                          â”‚  â”‚
â”‚  â”‚    â€¢ resetComplaintFilters()                         â”‚  â”‚
â”‚  â”‚    â€¢ exportComplaintsPDF()                           â”‚  â”‚
â”‚  â”‚    â€¢ exportComplaintsExcel()                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 EXTERNAL LIBRARIES                    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  â€¢ jsPDF v2.5.1 (PDF generation)                     â”‚  â”‚
â”‚  â”‚  â€¢ jsPDF-AutoTable v3.5.31 (PDF tables)              â”‚  â”‚
â”‚  â”‚  â€¢ SheetJS xlsx v0.20.0 (Excel export)               â”‚  â”‚
â”‚  â”‚  â€¢ Supabase Client (Database queries)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Database Query Pattern

### Members Query:
```javascript
let query = supabase
    .from('bla_members')
    .select('*')
    .order('created_at', { ascending: false });

// Apply filters conditionally
if (district) query = query.eq('district', district);
if (gender) query = query.eq('gender', gender);
if (status) query = query.eq('status', status);
if (category) query = query.eq('member_category', category);
if (fromDate) query = query.gte('created_at', fromDate + 'T00:00:00');
if (toDate) query = query.lte('created_at', toDate + 'T23:59:59');

const { data, error } = await query;
```

### Complaints Query:
```javascript
let query = supabase
    .from('complaints')
    .select('*')
    .order('created_at', { ascending: false });

// Apply filters conditionally
if (type) query = query.eq('complaint_type', type);
if (priority) query = query.eq('priority', priority);
if (status) query = query.eq('status', status);
if (assigned) query = query.ilike('assigned_to', `%${assigned}%`);
if (fromDate) query = query.gte('created_at', fromDate + 'T00:00:00');
if (toDate) query = query.lte('created_at', toDate + 'T23:59:59');

const { data, error } = await query;
```

---

## State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Application State               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ currentReportTab: 'members'      â”‚
â”‚  â€¢ memberFilters: {                 â”‚
â”‚      district: '',                  â”‚
â”‚      gender: '',                    â”‚
â”‚      status: '',                    â”‚
â”‚      category: '',                  â”‚
â”‚      fromDate: '',                  â”‚
â”‚      toDate: ''                     â”‚
â”‚    }                                â”‚
â”‚  â€¢ complaintFilters: {              â”‚
â”‚      type: '',                      â”‚
â”‚      priority: '',                  â”‚
â”‚      status: '',                    â”‚
â”‚      assigned: '',                  â”‚
â”‚      fromDate: '',                  â”‚
â”‚      toDate: ''                     â”‚
â”‚    }                                â”‚
â”‚  â€¢ previewData: []                  â”‚
â”‚  â€¢ isExporting: false               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Created for:** TVK Political Party Admin Dashboard  
**Feature Version:** 1.0  
**Last Updated:** October 12, 2025
